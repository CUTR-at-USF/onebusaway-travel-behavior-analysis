# onebusaway-travel-behavior-analysis
Python utilities to process and analyze travel behavior data collected by OneBusAway and exported as csv file by oba-firebase-export.

## matchAndMerge utility
This utility matches ground truth data activities in excel format with activities data generated by oba-firebase-export in csv format. The algorithm will match each activity in the ground truth dataset with the nearest activity in the oba-firebase-export generated file. 

## Build 
tbd

## Run
To run the matchAndMerge script use `python` command and pass the desired arguments:
`python matchAndMerge.py`

## Additional Optional Command Line Arguments 
* `--dataDir <data folder>` Takes a string with the folder path where the input data files are stored. If the folder does not exist, the application will quit. The default values is `data`. Example usage:
`--dataDir inputData`, will look for input data files (xlsx and csv) in the inputData folder in the current working directory.
* `--minActivitySpan <minutes>` Minimum activity time span (in minutes), shorter activities will be dropped before merging. The default values is 5 minutes. For example `--minActivitySpan 3` will remove, from the oba generated data, activities whose duration is less tan 3 minutes.
* `--minTripLength <meters>` Minimum distance (in meters) for a trip. Shorter trips will be dropped before merging. The default values is 50 meters. Example usage:
`--minTripLength 60` will remove, from the oba generated data, activities whose `Origin-Destination Bird-Eye Distance* (meters)` is less tan 60 meters.
* `--tolerance <milliseconds>` Maximum toleradted difference (milliseconds) between matched ground truth data start activity and OBA data start activity. 
By default it is 3000 milliseconds. Example usage: `--tolerance 5000` will consider only a difference equal or less than 5000 milliseconds while looking for a match between a ground truth data start activity and a OBA data start activity.

## License

```
/*
 * Copyright (C) 2019 University of South Florida
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
 ```